{"pageProps":{"postData":{"contentHtml":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.15.0/dist/katex.min.css\">\n</head>\n<body>\n<p>PythonとかGoとかだとそのまま返り値を複数セットしてもしっかり戻るのですが(Pythonの場合はタプルで返る)、JavaScriptだと*return a, b;*のようなシンプルな書き方だと動作しません。少し特殊な書き方になるのですが、解決策を共有します。</p>\n<p>(端的に言えば、オブジェクトもしくは配列を返すということですが...)</p>\n<h2>【解決策】return {}</h2>\n<p>ここでは、簡単に与えた二つの変数に格納した値を交換するswapを行ってみましょう。</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">let</span> <span class=\"hljs-title function_\">swap</span> = (<span class=\"hljs-params\">a, b</span>) => {\n    <span class=\"hljs-keyword\">let</span> tmp = a;\n    a = b;\n    b = tmp;\n\n    <span class=\"hljs-keyword\">return</span> {a, b};\n}\n\n<span class=\"hljs-keyword\">var</span> a = <span class=\"hljs-number\">1</span>, b = <span class=\"hljs-number\">2</span>;\n\n<span class=\"hljs-keyword\">var</span> {a, b} = <span class=\"hljs-title function_\">swap</span>(a, b)\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>({a, b});\n</code></pre>\n<p>この出力は<em>a: 2, b: 1</em>になります。(コードすごくくどくて無駄な処理しかないですが、ここでは言及しないでくださいww)</p>\n<p>ただし、この方法には注意点があります。</p>\n<p>次のセクションでお話しします。</p>\n<h2>【注意点】戻す変数名との対応</h2>\n<p>このコードで注意したいことは、戻す変数名との対応関係です。次のようにコードを書き換えてみましょう。</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">let</span> <span class=\"hljs-title function_\">swap</span> = (<span class=\"hljs-params\">a, b</span>) => {\n    <span class=\"hljs-keyword\">let</span> tmp = a;\n    a = b;\n    b = tmp;\n\n    <span class=\"hljs-keyword\">return</span> {a, b};\n}\n\n<span class=\"hljs-keyword\">var</span> a = <span class=\"hljs-number\">1</span>, b = <span class=\"hljs-number\">2</span>;\n\n<span class=\"hljs-keyword\">var</span> {b, a} = <span class=\"hljs-title function_\">swap</span>(a, b)  <span class=\"hljs-comment\">// ここを変更</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`b: <span class=\"hljs-subst\">${b}</span>, a: <span class=\"hljs-subst\">${a}</span>`</span>);  <span class=\"hljs-comment\">// ここを変更</span>\n</code></pre>\n<p>ここで期待したい結果は<em>b: 2, a: 1</em>です。\nしかし、結果は以下のようになります。</p>\n<pre><code class=\"hljs language-bash\">b: 1, a: 2\n</code></pre>\n<p>つまり、<strong>returnする変数名と戻す変数名は対応関係になっている</strong>という事になります。</p>\n<p>複数の返り値を設定できればかなりコードが裕福になると思います。Cとかだと複数あればポインタで処理しなければいけないので...</p>\n<p>これでJSで複数の返り値を設定することができました。是非活用してみてください。<del>(詳しく調べてないけどこれはESの仕様...!?)</del></p>\n<p>追記: {a, b}は{a: a, b: b}と同地であり、これは<strong>オブジェクトの省略</strong>による記法みたいです。オブジェクトに限らずリストで返すこともできるみたい(できた)。</p>\n<p>詳しくはこちらを参照されたい<a href=\"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\">https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></p>\n<p>*{}*で囲むことを忘れずに。</p>\n</body>\n</html>\n","Title":"JSで返り値にパラメータを複数設定する","Date":"2020-10-10","Category":"JavaScript","Tags":"JavaScript","Authors":"ゆうぼう","Slug":"js-return-mul","Thumbnail":"/images/thumbnails/js.png","Description":"PythonとかGoとかだとそのまま返り値を複数セットしてもしっかり戻るのですが(Pythonの場合はタプルで返る)、JavaScriptだとreturn a, b;のようなシンプルな書き方だと動作しません。少し特殊な書き方になるのですが、解決策を共有します。","Published":true},"categories":["Web","JavaScript","Competition","Cloud","Linux","Python","ML","Go","SQL"],"tags":["Apache","Appium","atmaCup","AWS","CentOS7","CentOS8","Colab","conda","CSS","ESPNet","ffmpeg","Flask","Go","Google Colaboratory","Heroku","HTML","JavaScript","JSON","Kaggle","Linux","Mac","make","map","MeCab","ML","MySQL","NLP","Node","node.js","npm","Pandas","Poetry","Python","Pytorch","pytorch-lightning","Scikit-learn","Selenium","SISR","subprocess","Super-Resolution","tensorflow","Tkinter","zsh","オブジェクト指向","デコレータ","データ分析","特殊メソッド","超解像"]},"__N_SSG":true}