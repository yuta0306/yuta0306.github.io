{"pageProps":{"postData":{"contentHtml":"<p>Kaggle何もわからない状態でしたが，やはりKaggle Notebookだとセッション時間の制限等が厳しかったです...</p>\n<p>そこで，Kaggleから逃げない対策としてもColab Proに課金してしまいました．KaggleのためのColaboratoryの使い方を考えます．</p>\n<p>初心者なりに考えたスターターです(まだ🍊)</p>\n<h2>KaggleをColabでするために必要だと思った条件</h2>\n<ul>\n<li>Google Colab Pro</li>\n<li>Google Drive 200GB</li>\n</ul>\n<p>これで大体<strong>月1400円</strong>ですかね〜〜．まぁ，安い．大学生なのに200万ちょいはたいて新車買った身からすると，めちゃくちゃ安いですw</p>\n<p>Competitionのデータセットを入れるだけで，30~50GB使って，訓練させた重みとかを実験ごとに出力するともう100GBはすぐ埋まりますね．</p>\n<p>強い方々は，複数のコンペを並行しているイメージがあるので，足りないでしょう(強い人強いローカルマシン持ってそうって偏見はあるw)</p>\n<p>これからColabスターターを考えます！</p>\n<h2>Colabスターターのすゝめ</h2>\n<ol>\n<li>CompetitionデータセットをDriveにzipのまま載せる</li>\n<li>ColabにDriveをマウント</li>\n<li>データセットを読み込む</li>\n</ol>\n<h2>CompetitionデータセットをDriveにzipのまま載せる</h2>\n<p>Competitionデータセットは，<strong>一旦ローカルに落としてから，GUIでGoogle Driveにアップロード</strong>します．</p>\n<p>場所はどこでもいいですが，僕は<em>MyDrive/Kaggle/{competition_name}/\b</em>のなかに落とすことにしました．</p>\n<p>ローカルにダウンロードしたzipファイルを何もせずにアップロードすると，<em>MyDrive/Kaggle/{competition_name}/{competition_name}.zip</em>になると思います．</p>\n<p>本当は，kaggle-apiで落とそうとしたのですが，やめました．原因は以下です．</p>\n<ol>\n<li>kaggle-apiをいちいちreinstallするの面倒くさい</li>\n<li>24時間でディスク消えてしまう</li>\n<li>インターネット状況によってはzipファイルの欠損がおきた</li>\n</ol>\n<h2>ColabにDriveをマウント</h2>\n<p>これからColabの方で実験をしていきますが，まずはDriveをColab上にマウントします．</p>\n<p><img src=\"/images/article/drive-mount.png\" alt=\"Driveのマウント\"></p>\n<p>画像が示しているところを押して，Driveをマウントできます．</p>\n<h2>データセットを読み込む</h2>\n<p><em>MyDrive/Kaggle/{competition_name}/{competition_name}.zip</em>にデータセットがあるとして話を進めます．</p>\n<p>一旦なんのGPUが乗っているか確認します．</p>\n<pre><code class=\"hljs language-bash\">!nvidia-smi</code></pre>\n<p>続いて，DriveにアップロードしたzipファイルをColabのディスク内の <em>/content/dataset</em>に展開します．</p>\n<pre><code class=\"hljs language-bash\">!unzip -o /content/drive/MyDrive/Kaggle/{competition_name}/{competition_name}.zip -d /content/dataset</code></pre>\n<p>毎回24時間おきに実験の度に，ディスクのにunzipしてから学習を開始します．</p>\n<p>15分くらい取られたりしますが，そこは我慢って感じで考えていました...</p>\n<p>イメージこんな感じです．</p>\n<p><img src=\"/images/article/colab-pro-starter01.png\" alt=\"Colab-Starter\"></p>\n<p>これ以降は自由にデータセットを呼び出せるので，ガチャガチャやってください．</p>\n<p>初めてKaggleにガチで始めたばかりの初心者が考えたGoogle Colabスターターでした．</p>\n<p>これからさらに改良を加えていって，うまいこと実験のルーティンを確立していこうと思います!!!</p>\n","Title":"KaggleのためのColabスターターを考える【第一話】","Date":"2021-05-23","Category":"Competition","Tags":["Kaggle","Google Colaboratory"],"Authors":"ゆうぼう","Slug":"colab-setup-for-kaggle01","Description":"Kaggle何もわからない状態でしたが，やはりKaggle Notebookだとセッション時間の制限等が厳しかったです...そこで，Kaggleから逃げない対策としてもColab Proに課金してしまいました．KaggleのためのColaboratoryの使い方を考えます．","Published":true},"categories":["Web","JavaScript","Competition","Cloud","Linux","Python","ML","Go","SQL"],"tags":["Apache","Appium","atmaCup","AWS","CentOS7","CentOS8","Colab","conda","CSS","ffmpeg","Flask","Go","Google Colaboratory","Heroku","HTML","JavaScript","JSON","Kaggle","Linux","Mac","make","map","MeCab","ML","MySQL","NLP","node.js","Pandas","Python","pytorch-lightning","Scikit-learn","Selenium","subprocess","tensorflow","Tkinter","zsh","オブジェクト指向","デコレータ","データ分析","特殊メソッド"]},"__N_SSG":true}