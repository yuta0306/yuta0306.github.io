{"pageProps":{"CategoricalPostData":[{"contentHtml":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.15.0/dist/katex.min.css\">\n</head>\n<body>\n<p>ffmpegでm4aフォーマットを自動でmp3に変換するプログラムをPythonで書いたのですが，CentOSのサーバ上で動作させるのに苦労したので，その時の解決策です．</p>\n<h2>やりたかったこと</h2>\n<p>PythonのAudioSegmentationを使った，音声ファイルのフォーマットを変えるプログラムを，サーバで動かしたい．</p>\n<p>用件はただ一つで以下でした．</p>\n<ul>\n<li>OSバージョン\n<ul>\n<li>CentOS 8</li>\n</ul>\n</li>\n</ul>\n<h2>手順書【 5/18現在 】</h2>\n<p>最初ffmpegの入ったリポジトリがないので，それらを入れる．</p>\n<p>とりあえず，ターミナルで以下を順にうつ．</p>\n<pre><code class=\"hljs language-bash\">$ sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\n$ sudo yum install https://download1.rpmfusion.org/free/el/rpmfusion-free-release-8.noarch.rpm https://download1.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-8.noarch.rpm\n$ sudo yum install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm\n</code></pre>\n<p>これが通れば，ffmpegとffmpegのdevelopmentパッケージを入れる．</p>\n<pre><code class=\"hljs language-bash\">sudo yum install ffmpeg ffmpeg-devel\n</code></pre>\n<p>僕がなんとかインストールして使用するまでいけた手順書がこれです．</p>\n<p>それで色々と面倒くさかったのが，この部分です．ここのセクションでは解消済みのコマンドを書いています．安心してコピペってください．</p>\n<pre><code class=\"hljs language-bash\">$ sudo yum install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm\n</code></pre>\n<p>一つ目のコードブロックの一番下のコマンドですね．これが，<strong>404エラーでそんなパッケージないよ</strong>って怒られたわけです．<br>\n人のサイトを参考にしてやってたら，どこのサイトでも同じコマンドなのに自分のところでは404?状態でした</p>\n<p>これより先はどうやって対処したかの僕の備忘録なので，上記を試して404エラーと出会ったら以下を見て頂ければ，解消の糸口が見出せるかもしれません．</p>\n<h2>参考にしたサイト</h2>\n<p><a href=\"https://www.systempandit.com/how-to-install-ffmpeg-on-centos/\">https://www.systempandit.com/how-to-install-ffmpeg-on-centos/</a></p>\n<p>これには，CentOS 8の部分で以下のように書いてあります．</p>\n<pre><code class=\"hljs language-bash\">$ sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\n$ sudo yum install https://download1.rpmfusion.org/free/el/rpmfusion-free-release-8.noarch.rpm https://download1.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-8.noarch.rpm\n$ sudo yum install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.10-1.el7.x86_64.rpm\n<span class=\"hljs-comment\"># 僕は上をこう書き換えた >>> $ sudo yum install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm</span>\n\nsudo yum install ffmpeg ffmpeg-devel\n</code></pre>\n<p>そうすると，僕が書き換えた部分で前のセクションでお話しした通り，404エラーが帰ってきます．そのようなパッケージがないんですね．</p>\n<p>ということで，僕の思考はこうなりました．「ん？バージョン怪しいな...」</p>\n<h2>パッケージのあるディレクトリの階層の上を見てみよう</h2>\n<p><a href=\"http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.10-1.el7.x86_64.rpm\">http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.10-1.el7.x86_64.rpm</a></p>\n<p>これがないらしいが，<a href=\"http://rpmfind.net/linux/epel/7/x86_64/Packages/s/\">http://rpmfind.net/linux/epel/7/x86_64/Packages/s/</a> のあたりまでは間違っている気がしなかったので，<br>\nブラウザから開いてみました．</p>\n<p>すると，「<a href=\"http://rpmfind.net/linux/epel/7/x86_64/Packages/s/\">http://rpmfind.net/linux/epel/7/x86_64/Packages/s/</a>」にうまくアクセスできて，それっぽいのが見つかりました．</p>\n<p>一番上に<em><a href=\"http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm\">http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm</a></em> のリンクがあって，<br>\nこれ比べたら，マイナーバージョン？的な場所の数字が違うんですね．今のやつはどうやら14のようで．．．</p>\n<p>それっぽいのが見つかったので，リンクをコピーして差し替えたところ，うまくインストールができました．</p>\n<h2>得たこと</h2>\n<p>何かしら，extraなリポジトリを使う時，少し時期がずれるだけでエラー返ってくることもあるみたいですが，大まかはあっているっぽいです．</p>\n<p>他の人はかつて行けてたわけですから．</p>\n<p>バージョンの違いとかを疑って，実際にアクセスして確認してバージョンチェックをすると糸口を見つけられることもあるみたいです．（たまたま感は否めないが）</p>\n<h2>まとめ</h2>\n<p>結局，5/18現時点ではこれでffmpegはインストールできます．</p>\n<pre><code class=\"hljs language-bash\">$ sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\n$ sudo yum install https://download1.rpmfusion.org/free/el/rpmfusion-free-release-8.noarch.rpm https://download1.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-8.noarch.rpm\n$ sudo yum install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm\n\nsudo yum install ffmpeg ffmpeg-devel\n</code></pre>\n</body>\n</html>\n","Title":"CentOS8にffmpegインストール; パッケージには気を付けよう","Date":"2021-05-18","Category":"Linux","Tags":["Linux","CentOS8","ffmpeg"],"Authors":"ゆうぼう","Slug":"ffmpeg-centos8-install","Description":"ffmpegでm4aフォーマットを自動でmp3に変換するプログラムをPythonで書いたのですが，CentOSのサーバ上で動作させるのに苦労したので，その時の解決策です．","Published":true},{"contentHtml":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.15.0/dist/katex.min.css\">\n</head>\n<body>\n<p>ここ最近になってからなのだが、ターミナル起動時に毎回<br>\n<em>\"zsh compinit: insecure directories, run compaudit for list. Ignore insecure directories and continue [y] or abort compinit [n]?\"</em><br>\nという表示が出るようになった。このchmodで権限を変えてあげたら直ったので、その共有。</p>\n<h2>警告\"zsh compinit: insecure directories\"の発生</h2>\n<p>いつも通り、ターミナルを起動させてあげます。<br>\nするとこんな警告が出たわけです。</p>\n<pre><code class=\"hljs language-bash\">zsh compinit: insecure directories, run compaudit <span class=\"hljs-keyword\">for</span> list.\nIgnore insecure directories and <span class=\"hljs-built_in\">continue</span> [y] or abort compinit [n]?\n</code></pre>\n<p>なんだか知らないけど、<strong>安全でないディレクトリたちがあるよ、compaudit動かしてね</strong>的なことを助言されたわけです。</p>\n<p>yを押そうが、nを押そうが僕の場合はどちらも動かず...\nなんで？って感じだったけど、こちらから<strong>compaudit</strong>を走らせてあげればいいわけなんで、走らせます。</p>\n<h2>compauditで確認</h2>\n<p><strong>compaudit</strong>で確認します。</p>\n<pre><code class=\"hljs language-bash\">~ % compaudit\nThere are insecure directories:\n/usr/local/share/zsh/site-functions\n/usr/local/share/zsh\n</code></pre>\n<p>これらが安全ではないらしい。色々ネット調べてたけど、Qiitaも漁ったけど、みんなこのディレクトリで悪さを検知してるみたい。</p>\n<h2>chmodで権限を変更する</h2>\n<p><strong>chmod</strong>で権限を変更します。</p>\n<pre><code class=\"hljs language-bash\">~ % <span class=\"hljs-built_in\">chmod</span> 755 /usr/local/share/zsh/site-functions\n~ % <span class=\"hljs-built_in\">chmod</span> 755 /usr/local/share/zsh\n</code></pre>\n<p>これで権限変更が可能です。<br>\nrootでなければもしかしたらsudoが必要になることもあるのかな？</p>\n<p>とりあえず、デフォで使ってる人ならuser作ったりしてない気がするので、とりあえずこれで動くとも思う。</p>\n<p>ここでうまくいけば、ターミナル再起動すれば警告は出なくなっているはず。</p>\n<p>人によっては、これら以外のディレクトリでinsecureと言われていることもあるかもしれないので、その場合はそれらもいじってあげてください。</p>\n<p>今回は以上!</p>\n</body>\n</html>\n","Title":"突然Macのターミナル起動時に\"zsh compinit: insecure directories\"が現れる","Date":"2020-08-21","Category":"Linux","Tags":["Mac","zsh"],"Authors":"ゆうぼう","Slug":"zsh-compinit","Thumbnail":"/images/thumbnails/terminal.png","Description":"ここ最近になってからなのだが、ターミナル起動時に毎回\"zsh compinit: insecure directories, run compaudit for list. Ignore insecure directories and continue [y] or abort compinit [n]?\"という表示が出るようになった。このchmodで権限を変えてあげたら直ったので、その共有。","Published":true},{"contentHtml":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.15.0/dist/katex.min.css\">\n</head>\n<body>\n<p>色々あってtmuxをConoHa VPSにインストールをすることになったのだが、そこでmakeしてmake installをする必要があった。しかし、このVPSのCentOS7には標準搭載では無かったようなので、インストールした。その際やったことを共有する。</p>\n<h2>sudo yum install make -y</h2>\n<p>一応僕がこれインストールしたときは、ユーザー権限なのでsudoをしました。<br>\nroot権限ならsudoはいらないと思います。</p>\n<p>あと、これは推奨されるべきかは知らないけど、<em>-y</em>オプションを付けました。<em>--assumeyes</em>と同値らしいです。全ての質問に対してyesと答えるオプションです。</p>\n<pre><code class=\"hljs language-bash\">$ sudo yum install make -y\n</code></pre>\n<p>これだけで終わりです。</p>\n<p>これで目標だった「make」と「make install」が使えるようになりました。</p>\n<p>実際どうなんでしょう？CentOS6は<strong>make</strong>がデフォルトにないとかっていう記事は見かけたのですが、CentOS7でそのような記事やブログは見つからなかったです。</p>\n<p>これってConoHa VPSだけとかって話はほぼないと思うので、CentOS7は標準搭載じゃないのかな？</p>\n</body>\n</html>\n","Title":"CentOS7にmakeコマンドをインストールする","Date":"2020-07-29","Category":"Linux","Tags":["CentOS7","make"],"Authors":"ゆうぼう","Slug":"centos-v7-make","Thumbnail":"/images/thumbnails/linux.jpg","Description":"色々あってtmuxをConoHa VPSにインストールをすることになったのだが、そこでmakeしてmake installをする必要があった。しかし、このVPSのCentOS7には標準搭載では無かったようなので、インストールした。その際やったことを共有する。","Updated_date":null,"Published":true}],"category":"Linux","categories":["論文","Web","JavaScript","Competition","Cloud","Linux","Python","ML","Go","SQL"],"tags":["Apache","Appium","atmaCup","AWS","CentOS7","CentOS8","Colab","COMET,mental health,NLP,mental state knowledge,mentalisation,Contrasive Learning,MentalRoBERTa,KC-Net","conda","CSS","dialogue system","dialogue system,Internet-Augmented","dialogue system,knowledge-base","dialogue system,NLI","dialogue system,persona,Prompt-Tuning","dialogue system,survey,DST","ESPNet","ffmpeg","Flask","Go","Google Colaboratory","Heroku","HTML","humor detection,multi-modal","JavaScript","JSON","Kaggle","laughter,shared laughter","Linux","Mac","make","map","MeCab","ML","MT,transformer,Multi-Hop Transformer","MySQL","NLP","Node","node.js","npm","Pandas","Poetry","Python","Pytorch","pytorch-lightning","Scikit-learn","Selenium","SISR","subprocess","Super-Resolution","survey,dialogue system","survey,NLP,knowledge-base,PLMKE,commonsense,encyclopedic,Knowledge-Intensive NLP","tensorflow","Tkinter","transformer,Highway Transformer,Gating Mechanism,Self-Dependency-Units (SDU)","zsh","オブジェクト指向","デコレータ","データ分析","特殊メソッド","超解像"],"page":1},"__N_SSG":true}