{"pageProps":{"postData":{"contentHtml":"<h2>MySQLにアクセス</h2>\n<p>最初に、MySQLにアクセスして対話モードを実行していきましょう。</p>\n<pre><code>$~ mysql -u root -p    <span>#root権限で入ってみる</span>\nEnter password: **********\n~~ 以下略 ~~\n\nmysql> </code></pre>\n<p>まずはコレで準備OK</p>\n<h2>テーブルの型のチェックと期待する変更結果の提示</h2>\n<p>さて、ここからカラムを追加していきましょう。元々のテーブル(example_tableと名付ける)は以下を想定します。</p>\n<table>\n<thead>\n<tr>\n<th>user</th>\n<th>age</th>\n<th>height</th>\n<th>weight</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>VARCHAR(32)</td>\n<td>INT</td>\n<td>FLOAT</td>\n<td>FLOAT</td>\n</tr>\n</tbody>\n</table>\n<p>まずは調べてみましょう。</p>\n<pre><code>mysql<span>></span> <span>DESCRIBE</span> example_table;\n<span>+</span><span>-----------+---------------+------+-----+---------+-------+</span>\n<span>|</span> Field     <span>|</span> Type          <span>|</span> <span>Null</span> <span>|</span> Key <span>|</span> <span>Default</span> <span>|</span> Extra <span>|</span>\n<span>+</span><span>-----------+---------------+------+-----+---------+-------+</span>\n<span>|</span> <span>user</span>      <span>|</span> <span>varchar</span>(<span>32</span>)   <span>|</span> YES  <span>|</span>     <span>|</span> <span>NULL</span>    <span>|</span>       <span>|</span>\n<span>|</span> age       <span>|</span> <span>int</span>           <span>|</span> YES  <span>|</span>     <span>|</span> <span>NULL</span>    <span>|</span>       <span>|</span>\n<span>|</span> height    <span>|</span> <span>float</span>         <span>|</span> YES  <span>|</span>     <span>|</span> <span>NULL</span>    <span>|</span>       <span>|</span>\n<span>|</span> weight    <span>|</span> <span>float</span>         <span>|</span> YES  <span>|</span>     <span>|</span> <span>NULL</span>    <span>|</span>       <span>|</span>\n<span>+</span><span>-----------+---------------+------+-----+---------+-------+</span>\n<span>4</span> <span>rows</span> <span>in</span> <span>set</span> (<span>0.00</span> sec)</code></pre>\n<p>そしてここにBMIを定義するカラムを追加してみたいと思います。想定する結果がこちらです。</p>\n<table>\n<thead>\n<tr>\n<th>user</th>\n<th>age</th>\n<th>height</th>\n<th>weight</th>\n<th>bmi</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>VARCHAR(32)</td>\n<td>INT</td>\n<td>FLOAT</td>\n<td>FLOAT</td>\n<td>FLOAT</td>\n</tr>\n</tbody>\n</table>\n<h2>カラムを追加する</h2>\n<p>さて、先ほどの期待結果に合わせてカラムを挿入していきましょう。コマンドの構文としてはこちらになります。</p>\n<p><strong>ALTER TABLE テーブル名 ADD カラム名 型 (オプション);</strong></p>\n<p>それでは実際にコマンドを実行していきましょう。さきの追加によると、</p>\n<table>\n<thead>\n<tr>\n<th>テーブル名</th>\n<th>カラム名</th>\n<th>型</th>\n<th>オプション</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>example_table</td>\n<td>bmi</td>\n<td>FLOAT</td>\n<td>なし</td>\n</tr>\n</tbody>\n</table>\n<p>こちらの情報をもとに構文に当てはめます。</p>\n<pre><code>mysql<span>></span> <span>ALTER</span> <span>TABLE</span> example_table <span>ADD</span> bmi <span>FLOAT</span>;\nQuery OK, <span>0</span> <span>rows</span> affected (<span>0.03</span> sec)\nRecords: <span>0</span>  Duplicates: <span>0</span>  Warnings: <span>0</span></code></pre>\n<p>さて、どう変わったのかみてみましょう。</p>\n<pre><code>mysql<span>></span> <span>DESCRIBE</span> example_table;\n<span>+</span><span>-----------+---------------+------+-----+---------+-------+</span>\n<span>|</span> Field     <span>|</span> Type          <span>|</span> <span>Null</span> <span>|</span> Key <span>|</span> <span>Default</span> <span>|</span> Extra <span>|</span>\n<span>+</span><span>-----------+---------------+------+-----+---------+-------+</span>\n<span>|</span> <span>user</span>      <span>|</span> <span>varchar</span>(<span>32</span>)   <span>|</span> YES  <span>|</span>     <span>|</span> <span>NULL</span>    <span>|</span>       <span>|</span>\n<span>|</span> age       <span>|</span> <span>int</span>           <span>|</span> YES  <span>|</span>     <span>|</span> <span>NULL</span>    <span>|</span>       <span>|</span>\n<span>|</span> height    <span>|</span> <span>float</span>         <span>|</span> YES  <span>|</span>     <span>|</span> <span>NULL</span>    <span>|</span>       <span>|</span>\n<span>|</span> weight    <span>|</span> <span>float</span>         <span>|</span> YES  <span>|</span>     <span>|</span> <span>NULL</span>    <span>|</span>       <span>|</span>\n<span>|</span> bmi       <span>|</span> <span>float</span>         <span>|</span> YES  <span>|</span>     <span>|</span> <span>NULL</span>    <span>|</span>       <span>|</span>\n<span>+</span><span>-----------+---------------+------+-----+---------+-------+</span>\n<span>5</span> <span>rows</span> <span>in</span> <span>set</span> (<span>0.00</span> sec)</code></pre>\n<p>うまくいったようですね。最後の行に期待した通りのカラムが追加されているようです。</p>\n<h2>まとめ</h2>\n<p>構文は以下になります。</p>\n<p><strong>ALTER TABLE テーブル名 ADD カラム名 型 (オプション);</strong></p>\n<p>カラムをいくつか増やしたいときは複数同時に指定してカラムを足すこともできます。\nいつも複数データを扱っているときのように()で括って処理を書きます。</p>\n<p><strong>ALTER TABLE テーブル名 ADD (カラム名 型, カラム名 型, ...);</strong></p>\n<p>このような感じでカラムを追加することができます。必要に応じてNULLを使えなくしたりデフォルト値を決めたりするといいでしょう。\n構文自体はこんな感じでした。技術的に必要になった知識がでたら、また公開していきます。</p>\n","Title":"MySQLで困った!カラム追加したい","Date":"2020-07-21","Category":"SQL","Tags":"MySQL","Authors":"ゆうぼう","Slug":"mysql-add-column","Thumbnail":"/images/thumbnails/database.jpg","Description":"MySQL触ってて、他のコードの変更とか方針の変更に応じてテーブルのカラムを挿入したくなることってあるよね。(自分があった)ので、テーブルにカラムを挿入する方法を共有します。","Published":true},"categories":["Web","JavaScript","Competition","Cloud","Linux","Python","ML","Go","SQL"],"tags":["Apache","Appium","atmaCup","AWS","CentOS7","CentOS8","Colab","conda","CSS","ffmpeg","Flask","Go","Google Colaboratory","Heroku","HTML","JavaScript","JSON","Kaggle","Linux","Mac","make","map","MeCab","ML","MySQL","NLP","node.js","Pandas","Python","Pytorch","pytorch-lightning","Scikit-learn","Selenium","SISR","subprocess","Super-Resolution","tensorflow","Tkinter","zsh","オブジェクト指向","デコレータ","データ分析","特殊メソッド","超解像"]},"__N_SSG":true}