{"pageProps":{"TaggedPostData":[{"contentHtml":"<p>画面をプリントしたいときとかって、無駄な情報があってそれを排除してプリントしたり保存したりしたい時ってあるんですよね。そこの広告いらないから...みたいな。JavaScriptから簡単に操作して画面をPDF保存とかできたのでその共有をします。</p>\n<h2>window.print() これだけでよかった</h2>\n<p>Webで開いている画面を印刷もしくはPDF文書として保存するときは、とても簡単。</p>\n<pre><code><span>window</span>.print()</code></pre>\n<p>この関数を使うだけで簡単に実行できました。</p>\n<p>とは言っても、この関数を使ってできることは今ある全てのDOM構造を反映してしまうことですかね。いらん情報消したいなぁぁ......。</p>\n<h2>いらないタグ一旦消してしまえ!!(終わったら勿論戻す)</h2>\n<p>さあ、そういうわけでいらない情報を消してしまお〜〜〜〜(暴論)</p>\n<p>ただし、*window.print()*したあとは戻してあげます。</p>\n<p>サンプルコードが以下です。</p>\n<pre><code><span>let</span> printer = <span>() =></span> {\n    <span>let</span> body = <span>document</span>.getElementsByTagName(<span>'body'</span>)[<span>0</span>]\n    <span>let</span> content = <span>document</span>.querySelector(<span>\"#target\"</span>)\n    <span>for</span> (<span>let</span> child <span>of</span> body.children) {\n        child.style.visibility = <span>'hidden'</span>\n    }\n    content.style.visibility = <span>'visible'</span>\n    <span>window</span>.print()\n    <span>for</span> (<span>let</span> child <span>of</span> body.children) {\n        child.style.visibility = <span>'visible'</span>\n    }\n}</code></pre>\n<p>これで欲しい部分だけ、基本的には印刷対象にできます。(例外はあると思う)</p>\n<p>フローはこんな感じ</p>\n<ol>\n<li>bodyと自分の欲しい所だけ押さえる</li>\n<li>bodyタグの下にあるやつを全部<em>visibility: hidden</em>に</li>\n<li>欲しかったやつだけ<em>visibility: visible</em>に</li>\n<li>**window.print()**で印刷</li>\n<li>全部<em>visibility: visible</em>に戻してあげる</li>\n</ol>\n<p>他にも良い方法があるかもしれませんけど、今回はこれで。</p>\n","Title":"JSで欲しい所だけを印刷するのすごく簡単だったってお話","Date":"2020-11-15","Category":"JavaScript","Tags":"JavaScript","Authors":"ゆうぼう","Slug":"js-print","Thumbnail":"/images/thumbnails/js.png","Description":"画面をプリントしたいときとかって、無駄な情報があってそれを排除してプリントしたり保存したりしたい時ってあるんですよね。そこの広告いらないから...みたいな。JavaScriptから簡単に操作して画面をPDF保存とかできたのでその共有をします。","Published":true},{"contentHtml":"<p>一次元配列のソートは簡単だし、困るのは多次元配列です。しかも、よく記事になっているのは多次元配列の要素中の配列の数字に対してソートをよくやるんですよね〜。文字列でソートはどーやるん？と思って解決した方法を共有します。(数値と全く方法は変わらないんですけどねww)</p>\n<h2>やりたいこと</h2>\n<p>まずはやりたいことを整理します。</p>\n<p>ソート対象リストを下のように定めます。</p>\n<pre><code>arr = [\n    [<span>'戦士'</span>, <span>200</span>],\n    [<span>'魔法使い'</span>, <span>50</span>],\n    [<span>'勇者'</span>, <span>500</span>],\n    [<span>'戦士'</span>, <span>220</span>],\n    [<span>'商人'</span>, <span>120</span>],\n    [<span>'魔法使い'</span>, <span>70</span>]\n]</code></pre>\n<p>期待する出力は以下になります。</p>\n<pre><code>[\n  [ <span>'魔法使い'</span>, <span>50</span> ],\n  [ <span>'魔法使い'</span>, <span>70</span> ],\n  [ <span>'戦士'</span>, <span>200</span> ],\n  [ <span>'戦士'</span>, <span>220</span> ],\n  [ <span>'商人'</span>, <span>120</span> ],\n  [ <span>'勇者'</span>, <span>500</span> ]\n]</code></pre>\n<p>もしくは逆でも良いですが。</p>\n<h2>sortメソッドで独自Expressionを与えよう</h2>\n<p>それでは、*Array.prototype.sort()*メソッドを用いて、独自のExpressionを書くことでソートをしていきましょう。</p>\n<p>メソッドの詳しい使い方はこちらを参照されたい。(多次元配列は詳しく書いていないので注意)<a href=\"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\">MDNリファレンス</a>{:target=\"_blank\"}</p>\n<p>arrの要素のインデックス0番目を元にソートするコードはこちらです。</p>\n<pre><code><span>let</span> arr = [\n    [<span>'戦士'</span>, <span>200</span>],\n    [<span>'魔法使い'</span>, <span>50</span>],\n    [<span>'勇者'</span>, <span>500</span>],\n    [<span>'戦士'</span>, <span>220</span>],\n    [<span>'商人'</span>, <span>120</span>],\n    [<span>'魔法使い'</span>, <span>70</span>]\n];\n\narr.sort(<span>(<span>a, b</span>) =></span> {\n    <span>if</span> (a[<span>0</span>] > b[<span>0</span>]) <span>return</span> -<span>1</span>;\n    <span>else</span> <span>if</span> (a[<span>0</span>] &#x3C; b[<span>0</span>]) <span>return</span> <span>1</span>;\n    <span>else</span> <span>0</span>;\n});\n\n<span>console</span>.log(arr)</code></pre>\n<p>これによって、先のセクションでお話しした通りの結果が返ってきます。</p>\n<p>うまくいった!!成功!!!!</p>\n<p>数値でやろうが手法は一切変わりません。実は。</p>\n<p>Array.prototype.sort()がどう動いていて、ソートをしているのか少し裏側が気になりますね。</p>\n<p>ちょっと興味あったら連絡をください。自分も興味あるので、少し調査して記事にするかもしれません。需要があれば記事にするのでTwitterより連絡ください。</p>\n","Title":"【JS】多次元配列を文字列に合わせてソートしたい!","Date":"2020-10-10","Category":"JavaScript","Tags":"JavaScript","Authors":"ゆうぼう","Slug":"sort-mularr-by-str","Thumbnail":"/images/thumbnails/js.png","Description":"一次元配列のソートは簡単だし、困るのは多次元配列です。しかも、よく記事になっているのは多次元配列の要素中の配列の数字に対してソートをよくやるんですよね〜。文字列でソートはどーやるん？と思って解決した方法を共有します。","Published":true},{"contentHtml":"<p>PythonとかGoとかだとそのまま返り値を複数セットしてもしっかり戻るのですが(Pythonの場合はタプルで返る)、JavaScriptだと*return a, b;*のようなシンプルな書き方だと動作しません。少し特殊な書き方になるのですが、解決策を共有します。</p>\n<p>(端的に言えば、オブジェクトもしくは配列を返すということですが...)</p>\n<h2>【解決策】return {}</h2>\n<p>ここでは、簡単に与えた二つの変数に格納した値を交換するswapを行ってみましょう。</p>\n<pre><code><span>let</span> swap = <span>(<span>a, b</span>) =></span> {\n    <span>let</span> tmp = a;\n    a = b;\n    b = tmp;\n\n    <span>return</span> {a, b};\n}\n\n<span>var</span> a = <span>1</span>, b = <span>2</span>;\n\n<span>var</span> {a, b} = swap(a, b)\n<span>console</span>.log({a, b});</code></pre>\n<p>この出力は<em>a: 2, b: 1</em>になります。(コードすごくくどくて無駄な処理しかないですが、ここでは言及しないでくださいww)</p>\n<p>ただし、この方法には注意点があります。</p>\n<p>次のセクションでお話しします。</p>\n<h2>【注意点】戻す変数名との対応</h2>\n<p>このコードで注意したいことは、戻す変数名との対応関係です。次のようにコードを書き換えてみましょう。</p>\n<pre><code><span>let</span> swap = <span>(<span>a, b</span>) =></span> {\n    <span>let</span> tmp = a;\n    a = b;\n    b = tmp;\n\n    <span>return</span> {a, b};\n}\n\n<span>var</span> a = <span>1</span>, b = <span>2</span>;\n\n<span>var</span> {b, a} = swap(a, b)  <span>// ここを変更</span>\n<span>console</span>.log(<span>`b: <span>${b}</span>, a: <span>${a}</span>`</span>);  <span>// ここを変更</span></code></pre>\n<p>ここで期待したい結果は<em>b: 2, a: 1</em>です。\nしかし、結果は以下のようになります。</p>\n<pre><code>b: 1, a: 2</code></pre>\n<p>つまり、<strong>returnする変数名と戻す変数名は対応関係になっている</strong>という事になります。</p>\n<p>複数の返り値を設定できればかなりコードが裕福になると思います。Cとかだと複数あればポインタで処理しなければいけないので...</p>\n<p>これでJSで複数の返り値を設定することができました。是非活用してみてください。<del>(詳しく調べてないけどこれはESの仕様...!?)</del></p>\n<p>追記: {a, b}は{a: a, b: b}と同地であり、これは<strong>オブジェクトの省略</strong>による記法みたいです。オブジェクトに限らずリストで返すこともできるみたい(できた)。</p>\n<p>詳しくはこちらを参照されたい<a href=\"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\">https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></p>\n<p>*{}*で囲むことを忘れずに。</p>\n","Title":"JSで返り値にパラメータを複数設定する","Date":"2020-10-10","Category":"JavaScript","Tags":"JavaScript","Authors":"ゆうぼう","Slug":"js-return-mul","Thumbnail":"/images/thumbnails/js.png","Description":"PythonとかGoとかだとそのまま返り値を複数セットしてもしっかり戻るのですが(Pythonの場合はタプルで返る)、JavaScriptだとreturn a, b;のようなシンプルな書き方だと動作しません。少し特殊な書き方になるのですが、解決策を共有します。","Published":true}],"tag":"JavaScript","categories":["Web","JavaScript","Competition","Cloud","Linux","Python","ML","Go","SQL"],"tags":["Apache","Appium","atmaCup","AWS","CentOS7","CentOS8","Colab","conda","CSS","ffmpeg","Flask","Go","Google Colaboratory","Heroku","HTML","JavaScript","JSON","Kaggle","Linux","Mac","make","map","MeCab","ML","MySQL","NLP","node.js","Pandas","Python","Pytorch","pytorch-lightning","Scikit-learn","Selenium","SISR","subprocess","Super-Resolution","tensorflow","Tkinter","zsh","オブジェクト指向","デコレータ","データ分析","特殊メソッド","超解像"],"pages":1,"page":1},"__N_SSG":true}