{"pageProps":{"TaggedPostData":[{"contentHtml":"<p>ここ最近になってからなのだが、ターミナル起動時に毎回<br>\n<em>\"zsh compinit: insecure directories, run compaudit for list. Ignore insecure directories and continue [y] or abort compinit [n]?\"</em><br>\nという表示が出るようになった。このchmodで権限を変えてあげたら直ったので、その共有。</p>\n<h2>警告\"zsh compinit: insecure directories\"の発生</h2>\n<p>いつも通り、ターミナルを起動させてあげます。<br>\nするとこんな警告が出たわけです。</p>\n<pre><code class=\"hljs language-bash\">zsh compinit: insecure directories, run compaudit <span class=\"hljs-keyword\">for</span> list.\nIgnore insecure directories and <span class=\"hljs-built_in\">continue</span> [y] or abort compinit [n]?</code></pre>\n<p>なんだか知らないけど、<strong>安全でないディレクトリたちがあるよ、compaudit動かしてね</strong>的なことを助言されたわけです。</p>\n<p>yを押そうが、nを押そうが僕の場合はどちらも動かず...\nなんで？って感じだったけど、こちらから<strong>compaudit</strong>を走らせてあげればいいわけなんで、走らせます。</p>\n<h2>compauditで確認</h2>\n<p><strong>compaudit</strong>で確認します。</p>\n<pre><code class=\"hljs language-bash\">~ % compaudit\nThere are insecure directories:\n/usr/<span class=\"hljs-built_in\">local</span>/share/zsh/site-functions\n/usr/<span class=\"hljs-built_in\">local</span>/share/zsh</code></pre>\n<p>これらが安全ではないらしい。色々ネット調べてたけど、Qiitaも漁ったけど、みんなこのディレクトリで悪さを検知してるみたい。</p>\n<h2>chmodで権限を変更する</h2>\n<p><strong>chmod</strong>で権限を変更します。</p>\n<pre><code class=\"hljs language-bash\">~ % chmod 755 /usr/<span class=\"hljs-built_in\">local</span>/share/zsh/site-functions\n~ % chmod 755 /usr/<span class=\"hljs-built_in\">local</span>/share/zsh</code></pre>\n<p>これで権限変更が可能です。<br>\nrootでなければもしかしたらsudoが必要になることもあるのかな？</p>\n<p>とりあえず、デフォで使ってる人ならuser作ったりしてない気がするので、とりあえずこれで動くとも思う。</p>\n<p>ここでうまくいけば、ターミナル再起動すれば警告は出なくなっているはず。</p>\n<p>人によっては、これら以外のディレクトリでinsecureと言われていることもあるかもしれないので、その場合はそれらもいじってあげてください。</p>\n<p>今回は以上!</p>\n","Title":"突然Macのターミナル起動時に\"zsh compinit: insecure directories\"が現れる","Date":"2020-08-21","Category":"Linux","Tags":["Mac","zsh"],"Authors":"ゆうぼう","Slug":"zsh-compinit","Thumbnail":"/images/thumbnails/terminal.png","Description":"ここ最近になってからなのだが、ターミナル起動時に毎回\"zsh compinit: insecure directories, run compaudit for list. Ignore insecure directories and continue [y] or abort compinit [n]?\"という表示が出るようになった。このchmodで権限を変えてあげたら直ったので、その共有。","Published":true}],"tag":"zsh","categories":["Web","JavaScript","Competition","Cloud","Linux","Python","ML","Go","SQL"],"tags":["Apache","Appium","atmaCup","AWS","CentOS7","CentOS8","conda","CSS","ffmpeg","Flask","Go","Google Colaboratory","HTML","JavaScript","JSON","Kaggle","Linux","Mac","make","map","MeCab","ML","MySQL","NLP","node.js","Pandas","Python","Scikit-learn","Selenium","subprocess","tensorflow","Tkinter","zsh","オブジェクト指向","デコレータ","データ分析","特殊メソッド"],"pages":1,"page":1},"__N_SSG":true}