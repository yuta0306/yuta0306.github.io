{"pageProps":{"postData":{"contentHtml":"<h2>MySQLにアクセス</h2>\n<p>最初に、MySQLにアクセスして対話モードを実行していきましょう。</p>\n<pre><code class=\"hljs language-bash\">$~ mysql -u root -p    <span class=\"hljs-comment\">#root権限で入ってみる</span>\nEnter password: **********\n~~ 以下略 ~~\n\nmysql> \n</code></pre>\n<p>まずはコレで準備OK</p>\n<h2>テーブルの型のチェックと期待する変更結果の提示</h2>\n<p>さて、ここからカラムを追加していきましょう。元々のテーブル(example_tableと名付ける)は以下を想定します。</p>\n<table>\n<thead>\n<tr>\n<th>user</th>\n<th>age</th>\n<th>height</th>\n<th>weight</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>VARCHAR(32)</td>\n<td>INT</td>\n<td>FLOAT</td>\n<td>FLOAT</td>\n</tr>\n</tbody>\n</table>\n<p>まずは調べてみましょう。</p>\n<pre><code class=\"hljs language-sql\">mysql<span class=\"hljs-operator\">></span> <span class=\"hljs-keyword\">DESCRIBE</span> example_table;\n<span class=\"hljs-operator\">+</span><span class=\"hljs-comment\">-----------+---------------+------+-----+---------+-------+</span>\n<span class=\"hljs-operator\">|</span> Field     <span class=\"hljs-operator\">|</span> Type          <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">Null</span> <span class=\"hljs-operator\">|</span> Key <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">Default</span> <span class=\"hljs-operator\">|</span> Extra <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">+</span><span class=\"hljs-comment\">-----------+---------------+------+-----+---------+-------+</span>\n<span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">user</span>      <span class=\"hljs-operator\">|</span> <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">32</span>)   <span class=\"hljs-operator\">|</span> YES  <span class=\"hljs-operator\">|</span>     <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">NULL</span>    <span class=\"hljs-operator\">|</span>       <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">|</span> age       <span class=\"hljs-operator\">|</span> <span class=\"hljs-type\">int</span>           <span class=\"hljs-operator\">|</span> YES  <span class=\"hljs-operator\">|</span>     <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">NULL</span>    <span class=\"hljs-operator\">|</span>       <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">|</span> height    <span class=\"hljs-operator\">|</span> <span class=\"hljs-type\">float</span>         <span class=\"hljs-operator\">|</span> YES  <span class=\"hljs-operator\">|</span>     <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">NULL</span>    <span class=\"hljs-operator\">|</span>       <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">|</span> weight    <span class=\"hljs-operator\">|</span> <span class=\"hljs-type\">float</span>         <span class=\"hljs-operator\">|</span> YES  <span class=\"hljs-operator\">|</span>     <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">NULL</span>    <span class=\"hljs-operator\">|</span>       <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">+</span><span class=\"hljs-comment\">-----------+---------------+------+-----+---------+-------+</span>\n<span class=\"hljs-number\">4</span> <span class=\"hljs-keyword\">rows</span> <span class=\"hljs-keyword\">in</span> <span class=\"hljs-keyword\">set</span> (<span class=\"hljs-number\">0.00</span> sec)\n</code></pre>\n<p>そしてここにBMIを定義するカラムを追加してみたいと思います。想定する結果がこちらです。</p>\n<table>\n<thead>\n<tr>\n<th>user</th>\n<th>age</th>\n<th>height</th>\n<th>weight</th>\n<th>bmi</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>VARCHAR(32)</td>\n<td>INT</td>\n<td>FLOAT</td>\n<td>FLOAT</td>\n<td>FLOAT</td>\n</tr>\n</tbody>\n</table>\n<h2>カラムを追加する</h2>\n<p>さて、先ほどの期待結果に合わせてカラムを挿入していきましょう。コマンドの構文としてはこちらになります。</p>\n<p><strong>ALTER TABLE テーブル名 ADD カラム名 型 (オプション);</strong></p>\n<p>それでは実際にコマンドを実行していきましょう。さきの追加によると、</p>\n<table>\n<thead>\n<tr>\n<th>テーブル名</th>\n<th>カラム名</th>\n<th>型</th>\n<th>オプション</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>example_table</td>\n<td>bmi</td>\n<td>FLOAT</td>\n<td>なし</td>\n</tr>\n</tbody>\n</table>\n<p>こちらの情報をもとに構文に当てはめます。</p>\n<pre><code class=\"hljs language-sql\">mysql<span class=\"hljs-operator\">></span> <span class=\"hljs-keyword\">ALTER</span> <span class=\"hljs-keyword\">TABLE</span> example_table <span class=\"hljs-keyword\">ADD</span> bmi <span class=\"hljs-type\">FLOAT</span>;\nQuery OK, <span class=\"hljs-number\">0</span> <span class=\"hljs-keyword\">rows</span> affected (<span class=\"hljs-number\">0.03</span> sec)\nRecords: <span class=\"hljs-number\">0</span>  Duplicates: <span class=\"hljs-number\">0</span>  Warnings: <span class=\"hljs-number\">0</span>\n</code></pre>\n<p>さて、どう変わったのかみてみましょう。</p>\n<pre><code class=\"hljs language-sql\">mysql<span class=\"hljs-operator\">></span> <span class=\"hljs-keyword\">DESCRIBE</span> example_table;\n<span class=\"hljs-operator\">+</span><span class=\"hljs-comment\">-----------+---------------+------+-----+---------+-------+</span>\n<span class=\"hljs-operator\">|</span> Field     <span class=\"hljs-operator\">|</span> Type          <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">Null</span> <span class=\"hljs-operator\">|</span> Key <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">Default</span> <span class=\"hljs-operator\">|</span> Extra <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">+</span><span class=\"hljs-comment\">-----------+---------------+------+-----+---------+-------+</span>\n<span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">user</span>      <span class=\"hljs-operator\">|</span> <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">32</span>)   <span class=\"hljs-operator\">|</span> YES  <span class=\"hljs-operator\">|</span>     <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">NULL</span>    <span class=\"hljs-operator\">|</span>       <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">|</span> age       <span class=\"hljs-operator\">|</span> <span class=\"hljs-type\">int</span>           <span class=\"hljs-operator\">|</span> YES  <span class=\"hljs-operator\">|</span>     <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">NULL</span>    <span class=\"hljs-operator\">|</span>       <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">|</span> height    <span class=\"hljs-operator\">|</span> <span class=\"hljs-type\">float</span>         <span class=\"hljs-operator\">|</span> YES  <span class=\"hljs-operator\">|</span>     <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">NULL</span>    <span class=\"hljs-operator\">|</span>       <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">|</span> weight    <span class=\"hljs-operator\">|</span> <span class=\"hljs-type\">float</span>         <span class=\"hljs-operator\">|</span> YES  <span class=\"hljs-operator\">|</span>     <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">NULL</span>    <span class=\"hljs-operator\">|</span>       <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">|</span> bmi       <span class=\"hljs-operator\">|</span> <span class=\"hljs-type\">float</span>         <span class=\"hljs-operator\">|</span> YES  <span class=\"hljs-operator\">|</span>     <span class=\"hljs-operator\">|</span> <span class=\"hljs-keyword\">NULL</span>    <span class=\"hljs-operator\">|</span>       <span class=\"hljs-operator\">|</span>\n<span class=\"hljs-operator\">+</span><span class=\"hljs-comment\">-----------+---------------+------+-----+---------+-------+</span>\n<span class=\"hljs-number\">5</span> <span class=\"hljs-keyword\">rows</span> <span class=\"hljs-keyword\">in</span> <span class=\"hljs-keyword\">set</span> (<span class=\"hljs-number\">0.00</span> sec)\n</code></pre>\n<p>うまくいったようですね。最後の行に期待した通りのカラムが追加されているようです。</p>\n<h2>まとめ</h2>\n<p>構文は以下になります。</p>\n<p><strong>ALTER TABLE テーブル名 ADD カラム名 型 (オプション);</strong></p>\n<p>カラムをいくつか増やしたいときは複数同時に指定してカラムを足すこともできます。\nいつも複数データを扱っているときのように()で括って処理を書きます。</p>\n<p><strong>ALTER TABLE テーブル名 ADD (カラム名 型, カラム名 型, ...);</strong></p>\n<p>このような感じでカラムを追加することができます。必要に応じてNULLを使えなくしたりデフォルト値を決めたりするといいでしょう。\n構文自体はこんな感じでした。技術的に必要になった知識がでたら、また公開していきます。</p>","Title":"MySQLで困った!カラム追加したい","Date":"2020-07-21","Category":"SQL","Tags":"MySQL","Authors":"ゆうぼう","Slug":"mysql-add-column","Thumbnail":"/images/thumbnails/database.jpg","Description":"MySQL触ってて、他のコードの変更とか方針の変更に応じてテーブルのカラムを挿入したくなることってあるよね。(自分があった)ので、テーブルにカラムを挿入する方法を共有します。","Published":true},"categories":["論文","Web","JavaScript","Competition","Cloud","Linux","Python","ML","Go","SQL"],"tags":["Apache","Appium","atmaCup","AWS","CentOS7","CentOS8","Colab","COMET","commonsense","conda","Contrasive Learning","Contrastive Learning","CSS","Dialogue Structure Learning","dialogue system","DST","empathetic dialogue system","encyclopedic","ESPNet","ffmpeg","Flask","Gating Mechanism","Go","Google Colaboratory","Heroku","Highway Transformer","HTML","humor detection","Internet-Augmented","JavaScript","JSON","Kaggle","KC-Net","knowledge-base","Knowledge-Intensive NLP","laughter","Linux","Mac","make","map","MeCab","mental health","mental state knowledge","mentalisation","MentalRoBERTa","Merging Models","ML","Model Editing","Model Patching","MT","Multi-Hop Transformer","multi-modal","MySQL","NLG","NLI","NLP","Node","node.js","npm","Pandas","persona","PLMKE","Poetry","Prompt-Tuning","Python","Pytorch","pytorch-lightning","Scikit-learn","Selenium","Self-Dependency-Units (SDU)","shared laughter","SISR","subprocess","Super-Resolution","survey","tensorflow","Tkinter","Transfer Learning","transformer","Weight Interpolation","zsh","オブジェクト指向","デコレータ","データ分析","特殊メソッド","聞き手反応","超解像"]},"__N_SSG":true}