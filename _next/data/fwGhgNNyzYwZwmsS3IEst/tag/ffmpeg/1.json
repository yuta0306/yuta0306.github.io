{"pageProps":{"TaggedPostData":[{"contentHtml":"<p>ffmpegでm4aフォーマットを自動でmp3に変換するプログラムをPythonで書いたのですが，CentOSのサーバ上で動作させるのに苦労したので，その時の解決策です．</p>\n<h2>やりたかったこと</h2>\n<p>PythonのAudioSegmentationを使った，音声ファイルのフォーマットを変えるプログラムを，サーバで動かしたい．</p>\n<p>用件はただ一つで以下でした．</p>\n<ul>\n<li>OSバージョン\n<ul>\n<li>CentOS 8</li>\n</ul>\n</li>\n</ul>\n<h2>手順書【 5/18現在 】</h2>\n<p>最初ffmpegの入ったリポジトリがないので，それらを入れる．</p>\n<p>とりあえず，ターミナルで以下を順にうつ．</p>\n<pre><code class=\"hljs language-bash\">$ sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\n$ sudo yum install https://download1.rpmfusion.org/free/el/rpmfusion-free-release-8.noarch.rpm https://download1.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-8.noarch.rpm\n$ sudo yum install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm\n</code></pre>\n<p>これが通れば，ffmpegとffmpegのdevelopmentパッケージを入れる．</p>\n<pre><code class=\"hljs language-bash\">sudo yum install ffmpeg ffmpeg-devel\n</code></pre>\n<p>僕がなんとかインストールして使用するまでいけた手順書がこれです．</p>\n<p>それで色々と面倒くさかったのが，この部分です．ここのセクションでは解消済みのコマンドを書いています．安心してコピペってください．</p>\n<pre><code class=\"hljs language-bash\">$ sudo yum install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm\n</code></pre>\n<p>一つ目のコードブロックの一番下のコマンドですね．これが，<strong>404エラーでそんなパッケージないよ</strong>って怒られたわけです．<br>\n人のサイトを参考にしてやってたら，どこのサイトでも同じコマンドなのに自分のところでは404?状態でした</p>\n<p>これより先はどうやって対処したかの僕の備忘録なので，上記を試して404エラーと出会ったら以下を見て頂ければ，解消の糸口が見出せるかもしれません．</p>\n<h2>参考にしたサイト</h2>\n<p><a href=\"https://www.systempandit.com/how-to-install-ffmpeg-on-centos/\">https://www.systempandit.com/how-to-install-ffmpeg-on-centos/</a></p>\n<p>これには，CentOS 8の部分で以下のように書いてあります．</p>\n<pre><code class=\"hljs language-bash\">$ sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\n$ sudo yum install https://download1.rpmfusion.org/free/el/rpmfusion-free-release-8.noarch.rpm https://download1.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-8.noarch.rpm\n$ sudo yum install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.10-1.el7.x86_64.rpm\n<span class=\"hljs-comment\"># 僕は上をこう書き換えた >>> $ sudo yum install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm</span>\n\nsudo yum install ffmpeg ffmpeg-devel\n</code></pre>\n<p>そうすると，僕が書き換えた部分で前のセクションでお話しした通り，404エラーが帰ってきます．そのようなパッケージがないんですね．</p>\n<p>ということで，僕の思考はこうなりました．「ん？バージョン怪しいな...」</p>\n<h2>パッケージのあるディレクトリの階層の上を見てみよう</h2>\n<p><a href=\"http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.10-1.el7.x86_64.rpm\">http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.10-1.el7.x86_64.rpm</a></p>\n<p>これがないらしいが，<a href=\"http://rpmfind.net/linux/epel/7/x86_64/Packages/s/\">http://rpmfind.net/linux/epel/7/x86_64/Packages/s/</a> のあたりまでは間違っている気がしなかったので，<br>\nブラウザから開いてみました．</p>\n<p>すると，「<a href=\"http://rpmfind.net/linux/epel/7/x86_64/Packages/s/\">http://rpmfind.net/linux/epel/7/x86_64/Packages/s/</a>」にうまくアクセスできて，それっぽいのが見つかりました．</p>\n<p>一番上に<em><a href=\"http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm\">http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm</a></em> のリンクがあって，<br>\nこれ比べたら，マイナーバージョン？的な場所の数字が違うんですね．今のやつはどうやら14のようで．．．</p>\n<p>それっぽいのが見つかったので，リンクをコピーして差し替えたところ，うまくインストールができました．</p>\n<h2>得たこと</h2>\n<p>何かしら，extraなリポジトリを使う時，少し時期がずれるだけでエラー返ってくることもあるみたいですが，大まかはあっているっぽいです．</p>\n<p>他の人はかつて行けてたわけですから．</p>\n<p>バージョンの違いとかを疑って，実際にアクセスして確認してバージョンチェックをすると糸口を見つけられることもあるみたいです．（たまたま感は否めないが）</p>\n<h2>まとめ</h2>\n<p>結局，5/18現時点ではこれでffmpegはインストールできます．</p>\n<pre><code class=\"hljs language-bash\">$ sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\n$ sudo yum install https://download1.rpmfusion.org/free/el/rpmfusion-free-release-8.noarch.rpm https://download1.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-8.noarch.rpm\n$ sudo yum install http://rpmfind.net/linux/epel/7/x86_64/Packages/s/SDL2-2.0.14-2.el7.x86_64.rpm\n\nsudo yum install ffmpeg ffmpeg-devel\n</code></pre>","Title":"CentOS8にffmpegインストール; パッケージには気を付けよう","Date":"2021-05-18","Category":"Linux","Tags":["Linux","CentOS8","ffmpeg"],"Authors":"ゆうぼう","Slug":"ffmpeg-centos8-install","Description":"ffmpegでm4aフォーマットを自動でmp3に変換するプログラムをPythonで書いたのですが，CentOSのサーバ上で動作させるのに苦労したので，その時の解決策です．","Published":true}],"tag":"ffmpeg","categories":["論文","Web","JavaScript","Competition","Cloud","Linux","Python","ML","Go","SQL"],"tags":["Apache","Appium","atmaCup","AWS","CentOS7","CentOS8","Colab","COMET","commonsense","conda","Contrasive Learning","Contrastive Learning","CSS","Dialogue Structure Learning","dialogue system","DST","empathetic dialogue system","encyclopedic","ESPNet","ffmpeg","Flask","Gating Mechanism","Go","Google Colaboratory","Heroku","Highway Transformer","HTML","humor detection","Internet-Augmented","JavaScript","JSON","Kaggle","KC-Net","knowledge-base","Knowledge-Intensive NLP","laughter","Linux","Mac","make","map","MeCab","mental health","mental state knowledge","mentalisation","MentalRoBERTa","Merging Models","ML","Model Editing","Model Patching","MT","Multi-Hop Transformer","multi-modal","MySQL","NLG","NLI","NLP","Node","node.js","npm","Pandas","persona","PLMKE","Poetry","Prompt-Tuning","Python","Pytorch","pytorch-lightning","Scikit-learn","Selenium","Self-Dependency-Units (SDU)","shared laughter","SISR","subprocess","Super-Resolution","survey","tensorflow","Tkinter","Transfer Learning","transformer","Weight Interpolation","zsh","オブジェクト指向","デコレータ","データ分析","特殊メソッド","聞き手反応","超解像"],"pages":1,"page":1},"__N_SSG":true}