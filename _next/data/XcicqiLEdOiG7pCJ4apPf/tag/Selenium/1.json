{"pageProps":{"TaggedPostData":[{"contentHtml":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.15.0/dist/katex.min.css\">\n</head>\n<body>\n<p>時々、Seleniumで要素を取得してクリックした際、うまくいかないことがあります。その時いくつかの解決策があるのですが、今回はJavaScriptを発火させて解決する方法を解説していきます。。</p>\n<p>それでは早速やってみます。</p>\n<p>前提条件は以下になります。</p>\n<ul>\n<li>Python環境が整っている</li>\n<li>Seleniumをインストール済み</li>\n<li>chromedriverをインストール済み</li>\n</ul>\n<h2>SeleniumからJavascriptを発火する</h2>\n<p>JavaScriptを発火させることはとても簡単です。</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">from</span> selenium <span class=\"hljs-keyword\">import</span> webdriver\n<span class=\"hljs-keyword\">import</span> chromedriver_binary\n\ndriver = webdriver.Chrome()\ndriver.get(<span class=\"hljs-string\">'https://www.example.com/'</span>)\ndriver.execute_script(<span class=\"hljs-string\">'Your Procedure'</span>)\n</code></pre>\n<p>まずは、Webdriverを開き、その後<em>execute_script</em>メソッドを用いて、引数にJSのスクリプトを書き込むのみです。</p>\n<h2>実際にボタンをクリックしてみる!</h2>\n<p>実際にJSのスクリプトと合わせて、<em>#button</em>を持つ要素をクリックしてみましょう。</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">from</span> selenium <span class=\"hljs-keyword\">import</span> webdriver\n<span class=\"hljs-keyword\">import</span> chromedriver_binary\n\ndriver = webdriver.Chrome()\ndriver.get(<span class=\"hljs-string\">'https://www.example.com/'</span>)\ndriver.execute_script(<span class=\"hljs-string\">'document.getElementById(\"button\").click();'</span>)\n</code></pre>\n<p>スクリプト全体の流れは以下になります。</p>\n<ol>\n<li>必要なモジュールをインポート</li>\n<li>webdriver立ち上げる</li>\n<li>対象のサイトを開く</li>\n<li><em>execute_script</em>でJSを発火</li>\n</ol>\n<p>上記のスクリプトはこの流れになります。</p>\n<p>時々、ポップアップとかトレース型広告とかでクリックできない場面があります。\nその際はJSから直押ししてあげるとうまく行くことがあります。</p>\n<p>この方法で解決できない場面も多いですが、比較的容易な手法なので頭の中に一つの解決策として留めておくのもありだと思います。</p>\n</body>\n</html>\n","Title":"Seleniumからクリックができない...そうだ、JSからクリックしよう","Date":"2020-09-26","Category":"Python","Tags":["Python","Selenium"],"Authors":"ゆうぼう","Slug":"selenium-click-by-js","Thumbnail":"/images/thumbnails/python.jpg","Description":"時々、Seleniumで要素を取得してクリックした際、うまくいかないことがあります。その時いくつかの解決策があるのですが、今回はJavaScriptを発火させて解決する方法を解説していきます。","Published":true}],"tag":"Selenium","categories":["Web","JavaScript","Competition","Cloud","Linux","Python","ML","Go","SQL"],"tags":["Apache","Appium","atmaCup","AWS","CentOS7","CentOS8","Colab","conda","CSS","ffmpeg","Flask","Go","Google Colaboratory","Heroku","HTML","JavaScript","JSON","Kaggle","Linux","Mac","make","map","MeCab","ML","MySQL","NLP","node.js","Pandas","Python","Pytorch","pytorch-lightning","Scikit-learn","Selenium","SISR","subprocess","Super-Resolution","tensorflow","Tkinter","zsh","オブジェクト指向","デコレータ","データ分析","特殊メソッド","超解像"],"pages":1,"page":1},"__N_SSG":true}